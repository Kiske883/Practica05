<div class="container__wrapper">
  <section class="formulario">
    <h2>Publicar nueva noticia</h2>
    <form (submit)="publicar(); $event.preventDefault()">
      <input [(ngModel)]="titulo" name="titulo" placeholder="TÃ­tulo" required />
      <input
        [(ngModel)]="imagen"
        name="imagen"
        placeholder="URL de la imagen"
        required
      />
      <textarea
        [(ngModel)]="texto"
        name="texto"
        placeholder="Texto de la noticia"
        required
      ></textarea>
      <input [(ngModel)]="fecha" name="fecha" type="date" required />
      <button type="submit">Publicar</button>
    </form>

    <!-- Si tenemos errores en el formulario, mostramos que campo/s es necesario rellenar -->
    @if (formError() !== ''){
    <div class="form-error">
      {{ formError() }}
    </div>
    }
  </section>

  <hr />

  <section class="noticias">
    <div class="noticias-wrapper">
      <h2>Vista de noticia destacada</h2>
      <div class="noticias-container-wrapper">
        @for(noticia of noticias();track noticia.titulo) {
        <app-new-view-component
          [titulo]="noticia.titulo"
          [imagen]="noticia.imagen"
          [texto]="noticia.texto"
          [fecha]="noticia.fecha"
        >
        </app-new-view-component>
        }
      </div>
    </div>
  </section>
</div>
